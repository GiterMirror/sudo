VISUDO(1m)                   MAINTENANCE COMMANDS                   VISUDO(1m)



[1mNAME[0m
       visudo - edit the sudoers file

[1mSYNOPSIS[0m
       [1mvisudo [22m[[1m-chqsV[22m] [[1m-f [4m[22msudoers[24m]

[1mDESCRIPTION[0m
       [1mvisudo [22medits the [4msudoers[24m file in a safe fashion, analogous to [4mvipw[24m(1m).
       [1mvisudo [22mlocks the [4msudoers[24m file against multiple simultaneous edits,
       provides basic sanity checks, and checks for parse errors.  If the
       [4msudoers[24m file is currently being edited you will receive a message to
       try again later.

       There is a hard-coded list of one or more editors that [1mvisudo [22mwill use
       set at compile-time that may be overridden via the [4meditor[24m [4msudoers[0m
       Default variable.  This list defaults to "vi".  Normally, [1mvisudo [22mdoes
       not honor the VISUAL or EDITOR environment variables unless they
       contain an editor in the aforementioned editors list.  However, if
       [1mvisudo [22mis configured with the [4m--with-env-editor[24m option or the
       [4menv_editor[24m Default variable is set in [4msudoers[24m, [1mvisudo [22mwill use any the
       editor defines by VISUAL or EDITOR.  Note that this can be a security
       hole since it allows the user to execute any program they wish simply
       by setting VISUAL or EDITOR.

       [1mvisudo [22mparses the [4msudoers[24m file after the edit and will not save the
       changes if there is a syntax error.  Upon finding an error, [1mvisudo [22mwill
       print a message stating the line number(s) where the error occurred and
       the user will receive the "What now?" prompt.  At this point the user
       may enter "e" to re-edit the [4msudoers[24m file, "x" to exit without saving
       the changes, or "Q" to quit and save changes.  The "Q" option should be
       used with extreme care because if [1mvisudo [22mbelieves there to be a parse
       error, so will [1msudo [22mand no one will be able to [1msudo [22magain until the
       error is fixed.  If "e" is typed to edit the  [4msudoers[24m file after a
       parse error has been detected, the cursor will be placed on the line
       where the error occurred (if the editor supports this feature).

[1mOPTIONS[0m
       [1mvisudo [22maccepts the following command line options:

       -c          Enable [1mcheck-only [22mmode.  The existing [4msudoers[24m file will be
                   checked for syntax and a message will be printed to the
                   standard output detailing the status of [4msudoers[24m.  If the
                   syntax check completes successfully, [1mvisudo [22mwill exit with
                   a value of 0.  If a syntax error is encountered, [1mvisudo[0m
                   will exit with a value of 1.

       -f [4msudoers[24m  Specify and alternate [4msudoers[24m file location.  With this
                   option [1mvisudo [22mwill edit (or check) the [4msudoers[24m file of your
                   choice, instead of the default, [4m/etc/sudoers[24m.  The lock
                   file used is the specified [4msudoers[24m file with ".tmp"
                   appended to it.  In [1mcheck-only [22mmode only, the argument to
                   [1m-f [22mmay be "-", indicating that [4msudoers[24m will be read from
                   the standard input.

       -h          The [1m-h [22m([4mhelp[24m) option causes [1mvisudo [22mto print a short help
                   message to the standard output and exit.

       -q          Enable [1mquiet [22mmode.  In this mode details about syntax
                   errors are not printed.  This option is only useful when
                   combined with the [1m-c [22moption.

       -s          Enable [1mstrict [22mchecking of the [4msudoers[24m file.  If an alias is
                   used before it is defined, [1mvisudo [22mwill consider this a
                   parse error.  Note that it is not possible to differentiate
                   between an alias and a host name or user name that consists
                   solely of uppercase letters, digits, and the underscore
                   ('_') character.

       -V          The [1m-V [22m(version) option causes [1mvisudo [22mto print its version
                   number and exit.

[1mENVIRONMENT[0m
       The following environment variables may be consulted depending on the
       value of the [4meditor[24m and [4menv_editor[24m [4msudoers[24m variables:

       VISUAL          Invoked by visudo as the editor to use

       EDITOR          Used by visudo if VISUAL is not set

[1mFILES[0m
       [4m/etc/sudoers[24m            List of who can run what

       [4m/etc/sudoers.tmp[24m        Lock file for visudo

[1mDIAGNOSTICS[0m
       sudoers file busy, try again later.
           Someone else is currently editing the [4msudoers[24m file.

       /etc/sudoers.tmp: Permission denied
           You didn't run [1mvisudo [22mas root.

       Can't find you in the passwd database
           Your userid does not appear in the system passwd file.

       Warning: {User,Runas,Host,Cmnd}_Alias referenced but not defined
           Either you are trying to use an undeclare
           {User,Runas,Host,Cmnd}_Alias or you have a user or host name listed
           that consists solely of uppercase letters, digits, and the
           underscore ('_') character.  In the latter case, you can ignore the
           warnings ([1msudo [22mwill not complain).  In [1m-s [22m(strict) mode these are
           errors, not warnings.

       Warning: unused {User,Runas,Host,Cmnd}_Alias
           The specified {User,Runas,Host,Cmnd}_Alias was defined but never
           used.  You may wish to comment out or remove the unused alias.  In
           [1m-s [22m(strict) mode this is an error, not a warning.

[1mSEE ALSO[0m
       [4mvi[24m(1), [4msudoers[24m(4), [4msudo[24m(1m), [4mvipw[24m(8)

[1mAUTHOR[0m
       Many people have worked on [4msudo[24m over the years; this version of [1mvisudo[0m
       was written by:

        Todd Miller

       See the HISTORY file in the sudo distribution or visit
       http://www.sudo.ws/sudo/history.html for more details.

[1mCAVEATS[0m
       There is no easy way to prevent a user from gaining a root shell if the
       editor used by [1mvisudo [22mallows shell escapes.

[1mBUGS[0m
       If you feel you have found a bug in [1mvisudo[22m, please submit a bug report
       at http://www.sudo.ws/sudo/bugs/

[1mSUPPORT[0m
       Limited free support is available via the sudo-users mailing list, see
       http://www.sudo.ws/mailman/listinfo/sudo-users to subscribe or search
       the archives.

[1mDISCLAIMER[0m
       [1mvisudo [22mis provided ``AS IS'' and any express or implied warranties,
       including, but not limited to, the implied warranties of
       merchantability and fitness for a particular purpose are disclaimed.
       See the LICENSE file distributed with [1msudo [22mor
       http://www.sudo.ws/sudo/license.html for complete details.



1.7.7                           August 13, 2011                     VISUDO(1m)
